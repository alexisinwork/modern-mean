webpackJsonp([0,4],{334:function(t,e,n){"use strict";var o=n(516);n.d(e,"c",function(){return o.a});var i=n(521);n.d(e,"a",function(){return i.a});var s=n(520);n.d(e,"b",function(){return s.a});var r=n(515);n.d(e,"d",function(){return r.a});var a=n(518);n.d(e,"e",function(){return a.a});var c=n(519);n.d(e,"f",function(){return c.a});var u=n(517);n.d(e,"g",function(){return u.a})},335:function(t,e,n){"use strict";var o=n(0),i=n(147),s=n(376);n.n(s);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.http=t}return t.prototype.isLoggedIn=function(){return this.http.get("/api/loggedin").map(function(t){return t.json()})},t.prototype.login=function(t,e){return this.http.post("/api/login",{username:t,password:e}).map(function(t){return t.json()})},t.prototype.logout=function(){return this.http.get("/api/logout").map(function(t){return t.json()})},t.prototype.register=function(t){return this.http.post("/api/register",t).map(function(t){return t.json()})},t=r([n.i(o.c)(),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},336:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=function(){function t(){this.infoChange=new o.P,this.isUserSet=new o.P}return t.prototype.emitUserSetEvent=function(t){this.isUserSet.emit(t)},t.prototype.getUserSetEmitter=function(){return this.isUserSet},t.prototype.emitChangeEvent=function(t){this.infoChange.emit(t)},t.prototype.getChangeEmitter=function(){return this.infoChange},t=i([n.i(o.c)(),s("design:paramtypes",[])],t)}()},337:function(t,e,n){"use strict";var o=n(0),i=n(147),s=n(376);n.n(s);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.http=t}return t.prototype.setLocalUser=function(t){this.user=t,this.userReady=!0},t.prototype.getLocalUser=function(){return this.user},t.prototype.changeUser=function(t){return this.http.put("/api/"+t.username,t).map(function(t){return t.json()})},t.prototype.getAllUsers=function(){return this.http.get("/api/users").map(function(t){return t.json()})},t=r([n.i(o.c)(),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},391:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=391},392:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(n(525),n(483)),i=n(0),s=n(524),r=n(513);s.a.production&&n.i(i.a)(),n.i(o.a)().bootstrapModule(r.a)},512:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=function(){function t(){}return t=i([n.i(o._4)({selector:"app-root",template:n(691),styles:[n(682)]}),s("design:paramtypes",[])],t)}()},513:function(t,e,n){"use strict";var o=n(151),i=n(0),s=n(474),r=n(147),a=n(514),c=n(512),u=n(55),d=n(334);n.d(e,"a",function(){return p});var l=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(){}return t=l([n.i(i.b)({declarations:[c.a,d.a,d.b,d.c,d.d,d.e,d.f,d.g],imports:[o.a,s.a,r.a,a.a],providers:[u.a,u.b,u.c,u.d,u.e],bootstrap:[c.a]}),f("design:paramtypes",[])],t)}()},514:function(t,e,n){"use strict";var o=n(66),i=n(334),s=n(55);n.d(e,"a",function(){return a});var r=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:i.f,canActivate:[s.e]},{path:":user/todos",component:i.a,canActivate:[s.e]},{path:":user/todo/:id",component:i.b,canActivate:[s.e]},{path:"login",component:i.c},{path:"profile/:user",component:i.e,canActivate:[s.e]},{path:"**",component:i.g}],a=o.b.forRoot(r)},515:function(t,e,n){"use strict";var o=n(0),i=n(55);n.d(e,"a",function(){return a});var s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t,e){this.users=t,this.emitter=e}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.emitter.getUserSetEmitter().subscribe(function(){t.user=t.users.getLocalUser()})},t=s([n.i(o._4)({selector:"app-header",template:n(692),styles:[n(683)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.d&&i.d)&&e||Object,"function"==typeof(a="undefined"!=typeof i.b&&i.b)&&a||Object])],t);var e,a}()},516:function(t,e,n){"use strict";var o=n(0),i=n(66),s=n(55);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,o){this.auth=t,this.emitter=e,this.router=n,this.users=o,this.isCheckingLogin=!1,this.isLoggingOut=!1,this.isRegistaringUser=!1,this.isRegistrationClicked=!1}return t.prototype.login=function(t,e){var n=this;this.error=t&&e?"":"Provide not empty name and password",this.error?this.emitter.emitChangeEvent({text:this.error,classs:"danger"}):(this.isCheckingLogin=!0,this.auth.login(this.username,this.password).subscribe(function(t){n.isCheckingLogin=!1,n.emitter.emitChangeEvent({text:"You successfully login",classs:"success"}),n.users.setLocalUser(t),n.emitter.emitUserSetEvent(!0),n.router.navigate(["/home"])},function(t){n.isCheckingLogin=!1,n.emitter.emitChangeEvent({text:"You have error: "+t._body,classs:"danger"})}))},t.prototype.logout=function(){var t=this;this.username="",this.password="",this.isLoggingOut=!0,this.auth.logout().subscribe(function(e){t.emitter.emitChangeEvent({text:e.text,classs:"success"}),t.isLoggingOut=!1,t.router.navigate(["login"])},function(e){t.isLoggingOut=!1,t.emitter.emitChangeEvent({text:"You have error "+e._body,classs:"danger"})})},t.prototype.showRegistrationForm=function(){this.isRegistrationClicked=!0},t.prototype.register=function(){var t=this,e={email:this.email,username:this.username,password:this.password,firstName:this.firstName,lastName:this.lastName,role:"user",todos:[]};this.isRegistaringUser=!0,this.auth.register(e).subscribe(function(e){t.isRegistaringUser=!1,e?(t.emitter.emitChangeEvent({text:"User "+e.username+" - added!",classs:"success"}),t.login(e.username,e.password)):t.emitter.emitChangeEvent({text:"User with this email/username - existed!",classs:"danger"})},function(e){t.isRegistaringUser=!1,t.emitter.emitChangeEvent({text:e.status,classs:"danger"})})},t=r([n.i(o._4)({selector:"app-login",template:n(693),styles:[n(684)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.c&&s.c)&&e||Object,"function"==typeof(c="undefined"!=typeof s.b&&s.b)&&c||Object,"function"==typeof(u="undefined"!=typeof i.a&&i.a)&&u||Object,"function"==typeof(d="undefined"!=typeof s.d&&s.d)&&d||Object])],t);var e,c,u,d}()},517:function(t,e,n){"use strict";var o=n(0),i=n(66);n.d(e,"a",function(){return a});var s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.router=t}return t=s([n.i(o._4)({selector:"app-not-found",template:n(694),styles:[n(685)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},518:function(t,e,n){"use strict";var o=n(0),i=n(55);n.d(e,"a",function(){return a});var s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.usersService=t,this.isEmailChanging=!1,this.isPassChanging=!1,this.isNameChanging=!1,this.isSurnameChanging=!1,this.isSendingRequest=!1,this.isSuccess=!1,this.getAllUsers()}return t.prototype.changeEmail=function(t,e){if(this.isEmailChanging){var n=/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/;e&&!e.match(n)?(this.isSuccess=!1,this.error="This doesn't look like real email or empty"):(this.updateUser(t,e),this.email="")}this.isEmailChanging=!this.isEmailChanging},t.prototype.changePass=function(t,e){this.isPassChanging&&(e&&e.length<6?(this.isSuccess=!1,this.error="Password should have 6 or more symbols"):(this.updateUser(t,e),this.email="")),this.isPassChanging=!this.isPassChanging},t.prototype.changeName=function(t,e){this.isNameChanging&&(this.updateUser(t,e),this.firstName=""),this.isNameChanging=!this.isNameChanging},t.prototype.changeSurname=function(t,e){this.isSurnameChanging&&(this.updateUser(t,e),this.lastName=""),this.isSurnameChanging=!this.isSurnameChanging},t.prototype.changeRole=function(t,e){this.updateUser(t,e)},t.prototype.updateUser=function(t,e){var n=this;e&&t?(this.newUser=this.user,this.newUser.changedField=(o={},o[t]=e,o),this.isSendingRequest=!0,this.usersService.changeUser(this.newUser).subscribe(function(t){if(t.error)n.isSuccess=!1,n.error="User with this email exist!",n.isSendingRequest=!1;else{n.error=!1,n.isSuccess=!0,n.user=t.user,n.isSendingRequest=!1;var e=n;setTimeout(function(){e.isSuccess=!1},3e3)}})):this.error="Your "+t+" field is empty";var o},t.prototype.ngOnInit=function(){this.user=this.usersService.getLocalUser()},t.prototype.getAllUsers=function(){var t=this;this.usersService.getAllUsers().subscribe(function(e){t.users=e,console.log(e)})},t=s([n.i(o._4)({selector:"app-profile",template:n(695),styles:[n(686)]}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.d&&i.d)&&e||Object])],t);var e}()},519:function(t,e,n){"use strict";var o=n(0),i=n(55),s=n(66);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,o){this.emitter=t,this.users=e,this.route=n,this.router=o,this.title="Todo List",this.isHome=!1,this.elemClass="alert-info",this.infoTodo={text:"Here you will receive different information alerts",classs:"info"},this.isHome="/home"===this.router.url}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.emitter.getChangeEmitter().subscribe(function(e){t.infoTodo=e,t.elemClass="warning"===t.infoTodo.classs?"alert-warning":"info"===t.infoTodo.classs?"alert-info":"danger"===t.infoTodo.classs?"alert-danger":"alert-success"}),this.user=this.users.getLocalUser()},t.prototype.navigateToPage=function(t){"profile"===t?this.router.navigate(["profile",this.user.username]):this.router.navigate([this.user.username,"todos"])},t=r([n.i(o._4)({selector:"app-title",template:n(696),styles:[n(687)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object,"function"==typeof(c="undefined"!=typeof i.d&&i.d)&&c||Object,"function"==typeof(u="undefined"!=typeof s.c&&s.c)&&u||Object,"function"==typeof(d="undefined"!=typeof s.a&&s.a)&&d||Object])],t);var e,c,u,d}()},520:function(t,e,n){"use strict";var o=n(0),i=n(66),s=n(55);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,o,i){var s=this;this.route=t,this.todoService=e,this.router=n,this.emitter=o,this.usersService=i,this.isActionLoading=!0,this.sub=this.route.params.subscribe(function(t){s.username=t;var e=s.usersService.getLocalUser().username;s.username.user!==e&&s.router.navigate(["/home"]),s.todoService.findTodo(s.username.user,+t.id).subscribe(function(t){s.currentAction=t;var e={text:"Your todo "+s.currentAction.text+" - successfully loaded!",classs:"info"};s.emitter.emitChangeEvent(e),s.currentCompleteness=t.isCompleted?"Done":"Not done",s.isActionLoading=!1},function(t){s.error=t,s.isActionLoading=!1},function(){console.log("Todo finded!")})})}return t.prototype.addComment=function(t){var e=this;this.currentAction.description=t,this.isActionUpdated=!0,this.todoService.updateTodo(this.username.user,this.currentAction).subscribe(function(t){console.log(t);var n={text:"Your comment for todo "+e.currentAction.text+" - successfully changed!",classs:"warning"};e.emitter.emitChangeEvent(n),e.currentCompleteness=e.currentAction.isCompleted?"Done":"Not done",e.isActionUpdated=!1},function(t){e.error=t,e.isActionUpdated=!1},function(){console.log("Todo updated")})},t.prototype.changeToDone=function(){var t=this;this.currentAction.isCompleted=!0,this.isActionUpdated=!0,this.todoService.updateTodo(this.username.user,this.currentAction).subscribe(function(){var e={text:"You complete your todo "+t.currentAction.text+"!",classs:"success"};t.emitter.emitChangeEvent(e),t.currentCompleteness=t.currentAction.isCompleted?"Done":"Not done",t.isActionUpdated=!1,t.router.navigate([t.username.user+"/todos"])},function(e){t.error=e,t.isActionUpdated=!1},function(){console.log("Todo updated")})},t.prototype.deleteAction=function(){var t=this;this.isActionDeleted=!0,this.todoService.deleteTodo(this.username.user,this.currentAction).subscribe(function(){var e={text:"Your todo "+t.currentAction.text+" - successfully deleted!",classs:"danger"};t.emitter.emitChangeEvent(e),t.isActionDeleted=!1,t.router.navigate([t.username.user+"/todos"])},function(e){t.error=e,t.isActionDeleted=!1},function(){console.log("Todo deleted")})},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t=r([n.i(o._4)({selector:"app-todo-details",template:n(697),styles:[n(688)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.c&&i.c)&&e||Object,"function"==typeof(c="undefined"!=typeof s.a&&s.a)&&c||Object,"function"==typeof(u="undefined"!=typeof i.a&&i.a)&&u||Object,"function"==typeof(d="undefined"!=typeof s.b&&s.b)&&d||Object,"function"==typeof(l="undefined"!=typeof s.d&&s.d)&&l||Object])],t);var e,c,u,d,l}()},521:function(t,e,n){"use strict";var o=n(0),i=n(66),s=n(55);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,o,i){var s=this;this.todoService=t,this.emitter=e,this.router=n,this.route=o,this.usersService=i,this.id=0,this.action={id:this.id,text:"",isCompleted:!1,description:""},this.route.params.subscribe(function(t){var e=s.usersService.getLocalUser().username;t.user!==e&&s.router.navigate(["/home"]),s.username=t,s.getTodos()})}return t.prototype.getTodos=function(){var t=this;this.isActionsLoading=!0,this.todoService.getTodos(this.username.user).subscribe(function(e){t.actions=e,t.isActionsLoading=!1},function(e){t.error=e,t.isActionsLoading=!1},function(){console.log("Todos loaded")})},t.prototype.addAction=function(){var t=this;this.text&&(this.actions.forEach(function(e){t.id=e.id>t.id?e.id+1:t.id}),this.action={id:++this.id,text:this.text,isCompleted:!1,description:"Here will be your description"},this.isActionSaved=!1,this.todoService.addTodo(this.username.user,this.action).subscribe(function(){var e={text:"Your todo "+t.action.text+" - successfully added!",classs:"success"};t.emitter.emitChangeEvent(e),t.isActionSaved=!1,t.getTodos()},function(e){t.error=e,t.isActionSaved=!1},function(){console.log("Todo added")})),this.text=""},t.prototype.onCheckChanged=function(t){var e=this;this.isActionUpdated=!0,this.todoService.updateTodo(this.username.user,t).subscribe(function(t){var n={text:"Your todo "+e.action.text+" - successfully changed!",classs:"warning"};e.emitter.emitChangeEvent(n),e.currentCompleteness=e.action.isCompleted?"Done":"Not done",e.isActionUpdated=!1,e.getTodos()},function(t){e.error=t,e.isActionUpdated=!1},function(){console.log("Todo updated")})},t.prototype.deleteAction=function(t){var e=this;this.isActionDeleted=!0,this.todoService.deleteTodo(this.username.user,t).subscribe(function(){var t={text:"Your todo "+e.action.text+" - successfully added!",classs:"danger"};e.emitter.emitChangeEvent(t),e.isActionDeleted=!1,e.getTodos()},function(t){e.error=t,e.isActionDeleted=!1},function(){console.log("Todo deleted")})},t.prototype.onEnter=function(t){"Enter"===t.code&&this.addAction()},t.prototype.navigate=function(t){var e=this.username.user;this.router.navigate([e+"/todo/"+t])},t=r([n.i(o._4)({selector:"app-todo",template:n(698),styles:[n(689)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object,"function"==typeof(c="undefined"!=typeof s.b&&s.b)&&c||Object,"function"==typeof(u="undefined"!=typeof i.a&&i.a)&&u||Object,"function"==typeof(d="undefined"!=typeof i.c&&i.c)&&d||Object,"function"==typeof(l="undefined"!=typeof s.d&&s.d)&&l||Object])],t);var e,c,u,d,l}()},522:function(t,e,n){"use strict";var o=n(0),i=n(66),s=n(335),r=n(336),a=n(337);n.d(e,"a",function(){return d});var c=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.auth=t,this.router=e,this.emitter=n,this.users=o}return t.prototype.canActivate=function(t,e){var n=this;return this.auth.isLoggedIn().map(function(t){var e=0!==t;return e||(n.emitter.emitChangeEvent({text:"You are not logged into app",classs:"warning"}),n.router.navigate(["login"])),n.users.setLocalUser(t),n.emitter.emitUserSetEvent(!0),e},function(t){return n.emitter.emitChangeEvent({text:"You have error: "+t.status}),!1})},t=c([n.i(o.c)(),u("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object,"function"==typeof(d="undefined"!=typeof i.a&&i.a)&&d||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object,"function"==typeof(f="undefined"!=typeof a.a&&a.a)&&f||Object])],t);var e,d,l,f}()},523:function(t,e,n){"use strict";var o=n(0),i=n(147);n.d(e,"a",function(){return a});var s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.http=t}return t.prototype.getTodos=function(t){return this.http.get("/api/"+t+"/todos").map(function(t){return t.json()})},t.prototype.addTodo=function(t,e){return this.http.post("/api/"+t+"/todo",e).map(function(t){return t.json()})},t.prototype.updateTodo=function(t,e){return this.http.put("/api/"+t+"/todo/"+e.id,e).map(function(t){return t.json()})},t.prototype.deleteTodo=function(t,e){return this.http.delete("/api/"+t+"/todo/"+e.id).map(function(t){return t.json()})},t.prototype.findTodo=function(t,e){return this.http.get("/api/"+t+"/todo/"+e).map(function(t){return t.json()})},t=s([n.i(o.c)(),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},524:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},525:function(t,e,n){"use strict";var o=n(539),i=(n.n(o),n(532)),s=(n.n(i),n(528)),r=(n.n(s),n(534)),a=(n.n(r),n(533)),c=(n.n(a),n(531)),u=(n.n(c),n(530)),d=(n.n(u),n(538)),l=(n.n(d),n(527)),f=(n.n(l),n(526)),p=(n.n(f),n(536)),h=(n.n(p),n(529)),g=(n.n(h),n(537)),m=(n.n(g),n(535)),b=(n.n(m),n(540)),v=(n.n(b),n(717));n.n(v)},55:function(t,e,n){"use strict";var o=n(523);n.d(e,"a",function(){return o.a});var i=n(336);n.d(e,"b",function(){return i.a});var s=n(335);n.d(e,"c",function(){return s.a});var r=n(337);n.d(e,"d",function(){return r.a});var a=n(522);n.d(e,"e",function(){return a.a})},682:function(t,e){t.exports=""},683:function(t,e){t.exports=".navbar{height:50px}.profile{font-size:1.35rem}\n"},684:function(t,e){t.exports=""},685:function(t,e){t.exports=""},686:function(t,e){t.exports="img{width:70%}.top{margin-top:7px}.no-outline:focus{outline:none;box-shadow:none}\n"},687:function(t,e){t.exports=".no-outline{text-shadow:none;outline:none}\n"},688:function(t,e){t.exports=".jumbotron{min-width:50%}.jumbotron .break{word-break:break-all;width:60%}.jumbotron .badge{position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:1.5rem}.jumbotron .description{margin-top:5%}.comment:focus{outline:none}[contenteditable=true]:empty:before{content:attr(placeholder);display:block}\n"},689:function(t,e){t.exports=".text{margin:5% 0}.todo-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.action{margin:2%}.checkbox-my{border-bottom-right-radius:3px;border-top-right-radius:3px;border-right:1px solid rgba(0,0,0,0.15)}\n"},691:function(t,e){t.exports='<app-header></app-header>\n\n<div class="container-fluid wrapper">\n\n  <title></title>\n\n  <div class="row justify-content-center add-todo">\n    <div class="col-md-5">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n'},692:function(t,e){t.exports='<nav class="navbar navbar-toggleable navbar-light bg-faded">\n  <a class="navbar-brand" [routerLink]="[\'/home\']">Home</a>\n  <a class="navbar-brand" [routerLink]="[\'/login\']">Login</a>\n  <div class="navbar-nav mr-auto"></div>\n  <div *ngIf="user" class="profile form-inline my-2 my-lg-0">\n    <p class="username text mt-sm-3">{{ user.username }}</p>\n    <a *ngIf="user.username !== \'guest\'" class="ml-sm-2 mt-sm-1" [routerLink]="[\'profile/\', user.username]">\n      <i class="fa fa-cog" aria-hidden="true"></i>\n    </a>\n    <small><a *ngIf="user.username === \'guest\'" class="ml-3" [routerLink]="[\'login\']">Login</a></small>\n  </div>\n</nav>\n'},693:function(t,e){t.exports='<app-title></app-title>\n\n<div class="login" *ngIf="!isRegistrationClicked">\n  <div class="input-group">\n    <input type="text" class="username form-control" [(ngModel)]="username" placeholder="Username">\n  </div>\n  <br>\n  <div class="input-group">\n    <input type="password" class="password form-control" [(ngModel)]="password" placeholder="Password">\n  </div>\n  <div class="d-flex justify-content-between mt-4">\n    <div>\n      <button class="login-btn btn" [ngClass]="!isCheckingLogin ? \'btn-primary\' : \'btn-disabled\'"\n              (click)="login(username, password)">\n        Login <i class="fa fa-cog fa-spin fa-1x fa-fw" *ngIf="isCheckingLogin"></i>\n      </button>\n      <button class="btn btn-link" (click)="logout()">Logout</button>\n    </div>\n    <button class="btn btn-danger" (click)="showRegistrationForm()">Register</button>\n  </div>\n</div>\n\n<div class="registration" *ngIf="isRegistrationClicked">\n  <div class="form-group">\n    <label for="email">Email</label>\n    <input type="email" class="form-control" id="email" aria-describedby="emailHelp"\n           placeholder="Enter your email" [(ngModel)]="email">\n  </div>\n  <div class="form-group">\n    <label for="username">Username</label>\n    <input type="text" class="form-control" id="username" aria-describedby="usernameHelp"\n           placeholder="Enter your username" [(ngModel)]="username">\n  </div>\n  <div class="form-group">\n    <label for="password">Password</label>\n    <input type="password" class="form-control" id="password"\n           placeholder="Enter your password" [(ngModel)]="password">\n  </div>\n  <div class="form-group">\n    <label for="firstName">First name</label>\n    <input type="text" class="form-control" id="firstName" aria-describedby="firstNameHelp"\n           placeholder="Enter your first name" [(ngModel)]="firstName">\n  </div>\n  <div class="form-group">\n    <label for="lastName">Last name</label>\n    <input type="text" class="form-control" id="lastName" aria-describedby="lastNameHelp"\n           placeholder="Enter your last name" [(ngModel)]="lastName">\n  </div>\n  <button class="btn btn-primary" (click)="register()">\n    Register new user <i class="fa fa-cog fa-spin fa-1x fa-fw" *ngIf="isRegisteringUser"></i>\n  </button>\n</div>\n'},694:function(t,e){t.exports='<div class="mt-4">\n  <div class="row justify-content-center">\n    <h1> To do app </h1>\n  </div>\n  <hr class="col-md-6">\n  <div class="row text-center">\n    <p> Make all todo names short. You have a description clicking on it </p>\n    <p>This is not existing page. Sorry! Better go to home page:</p>\n    <a class="ml-2" [routerLink]="[\'/home\']">Home</a>\n  </div>\n</div>\n'},695:function(t,e){t.exports='<div *ngIf="user" class="container-fluid mt-4">\n  <div class="col-md-12 text-center">\n    <img src="https://cdn4.iconfinder.com/data/icons/free-large-boss-icon-set/512/Supervisor.png" alt="avatar standard">\n  </div>\n  <div *ngIf="error" class="col-md-12 text-center alert alert-danger mt-4 mb-4">\n    {{ this.error }}\n  </div>\n  <div *ngIf="isSuccess" class="col-md-12 text-center alert alert-success mt-4 mb-4">\n    Success! User updated\n  </div>\n  <div class="row mt-4">\n    <div class="col-md-3 top"><strong>Email: </strong></div>\n    <div class="col-md-7 text-center top" *ngIf="!isEmailChanging">{{ user.email }}</div>\n    <input *ngIf="isEmailChanging" type="email" class="form-control col-md-7" aria-describedby="emailHelp"\n           placeholder="Enter your email" [(ngModel)]="email">\n    <button class="btn btn-link col-md-2 no-outline" (click)="changeEmail(\'email\', email)">{{ !isEmailChanging ? \'change\' : \'Save\' }}</button>\n  </div>\n  <div class="row mt-4">\n    <div class="col-md-3 top"><strong>Password: </strong></div>\n    <div class="col-md-7 text-center top" *ngIf="!isPassChanging">{{ user.password.length }} symbols</div>\n    <input *ngIf="isPassChanging" type="password" class="form-control col-md-7" aria-describedby="passwordHelp"\n           placeholder="Enter your password" [(ngModel)]="password">\n    <button class="btn btn-link col-md-2 no-outline" (click)="changePass(\'password\', password)">{{ !isPassChanging ? \'change\' : \'Save\' }}</button>\n  </div>\n  <div class="row mt-4">\n    <div class="col-md-3 top"><strong> Name: </strong></div>\n    <div class="col-md-7 text-center top" *ngIf="!isNameChanging">{{ user.firstName }}</div>\n    <input *ngIf="isNameChanging" type="text" class="form-control col-md-7" aria-describedby="firstNameHelp"\n           placeholder="Enter your first name" [(ngModel)]="firstName">\n    <button class="btn btn-link col-md-2 no-outline" (click)="changeName(\'firstName\', firstName)">{{ !isNameChanging ? \'change\' : \'Save\' }}</button>\n  </div>\n  <div class="row mt-4">\n    <div class="col-md-3 top"><strong> Surname: </strong></div>\n    <div class="col-md-7 text-center top" *ngIf="!isSurnameChanging">{{ user.lastName }}</div>\n    <input *ngIf="isSurnameChanging" type="text" class="form-control col-md-7" aria-describedby="lastNameHelp"\n           placeholder="Enter your last name" [(ngModel)]="lastName">\n    <button class="btn btn-link col-md-2 no-outline" (click)="changeSurname(\'lastName\', lastName)">{{ !isSurnameChanging ? \'change\' : \'Save\' }}</button>\n  </div>\n  <div *ngIf="user.role !== \'admin\'" class="row mt-4 justify-content-center">\n    <button class="btn btn-primary col-md-4 no-outline" (click)="changeRole(\'role\', \'admin\')">Want to be like Admin</button>\n  </div>\n  <!-- Admin role -->\n  <div class="mt-4" *ngIf="user.role === \'admin\'">\n    <p class="text-center"> <strong>All users</strong> </p>\n    <table class="table table-striped">\n      <thead>\n      <tr>\n        <td> Username </td>\n        <td> First Name </td>\n        <td> Last Name </td>\n        <td> Todo\'s quantity </td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr *ngFor="let user of users">\n        <td> {{ user.username }} </td>\n        <td> {{ user.firstName }} </td>\n        <td> {{ user.lastName }} </td>\n        <td> {{ user.todos.length }} </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n';
},696:function(t,e){t.exports='<div class="mt-4 text-center title">\n  <div class="row justify-content-center">\n    <h1> {{title}} </h1>\n  </div>\n  <hr class="col-md-6">\n  <div class="row justify-content-center">\n    <p class="title-desc"> Make all todo names short. You have a description clicking on it </p>\n  </div>\n  <div class="row justify-content-center mt-2 mb-2">\n    <div class="col-md-8 alert title-info"\n         [ngClass]="elemClass"\n         role="alert" *ngIf="infoTodo">\n      {{ infoTodo.text }}\n    </div>\n  </div>\n  <div *ngIf="user" class="col-md-12">\n    <div *ngIf="user.username === \'guest\'" class="alert alert-warning">\n      This is Guest account. To work with your own data, click login\n    </div>\n    <div *ngIf="isHome">\n      <span>Go to profile:</span>\n      <button class="btn btn-link no-outline" (click)="navigateToPage(\'profile\')">Profile</button><br>\n      <span>Go to todos:</span>\n      <button class="btn btn-link" (click)="navigateToPage(\'todos\')">Todos</button>\n      <div *ngIf="user.username === \'guest\'">\n        <p>You are not logged in. Click button to login/register your user</p>\n        <button class="btn btn-primary">Login</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},697:function(t,e){t.exports='<app-title></app-title>\n\n<p class="text" *ngIf="isActionLoading"> Information loading...</p>\n\n<div class="jumbotron" *ngIf="!isActionLoading">\n  <div class="action d-flex justify-content-between">\n    <h3 class="action-text display-5 break">{{ currentAction.text }}</h3>\n    <div>\n      <span class="action-done float-right" [ngClass]="currentAction.isCompleted ? \'badge badge-success\' : \'badge badge-warning\'">\n      {{ currentCompleteness }}\n      </span>\n    </div>\n  </div>\n  <p class="lead description">{{ currentAction.description }}</p>\n  <hr class="my-4">\n  <div class="comment" #comment contenteditable="true">\n    Add/Change your description here\n  </div>\n  <hr class="my-4">\n  <p class="lead d-flex justify-content-between">\n    <button (click)="addComment(comment.innerText)" class="btn-add btn btn-primary">Add comment</button>\n    <button (click)="deleteAction(action)" class="btn-delete btn btn-danger">Delete</button>\n    <button (click)="changeToDone()" class="btn-change btn btn-primary float-right">Done</button>\n  </p>\n</div>\n'},698:function(t,e){t.exports='<app-title></app-title>\n\n<div class="wrapper-max">\n  <div class="input-group">\n    <button (click)="addAction()" class="add-btn btn btn-primary input-group-addon no-outline">Add</button>\n    <input type="text" [(ngModel)]="text" (keypress)="onEnter($event)" class="text-input form-control" />\n  </div>\n\n  <div *ngIf="!isActionsLoading">\n    <h5 class="text">What I need to do more:</h5>\n    <div *ngFor="let action of actions" class="input-group d-flex justify-content-between action">\n      <span class="input-group-addon checkbox-my">\n         <input class="action-check" type="checkbox" [checked]="action.isCompleted" [(ngModel)]="action.isCompleted"\n                (change)="onCheckChanged(action)"/>\n      </span>\n      <span class="btn btn-link todo-text"><a class="action-link" (click)="navigate(action.id)">{{ action.text }}</a></span>\n      <button (click)="deleteAction(action)" class="action-delete btn btn-danger">Delete</button>\n    </div>\n  </div>\n</div>\n'},719:function(t,e,n){t.exports=n(392)}},[719]);